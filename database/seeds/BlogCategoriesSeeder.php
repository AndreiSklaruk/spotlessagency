<?php

use Illuminate\Database\Seeder;

class BlogCategoriesSeeder extends Seeder
{
    private $categories = [
        [1, 'Без рубрики', '%d0%b1%d0%b5%d0%b7-%d1%80%d1%83%d0%b1%d1%80%d0%b8%d0%ba%d0%b8', 0],
        [9, 'Main', 'main', 0],
        [11, '3D Rendering', '3d-rendering', 0],
        [16, 'Gallery', 'post-format-gallery', 0],
        [17, 'Spotless Agency', 'spotless-agency', 0],
        [18, 'Virtual Staging Statistic', 'virtual-staging-statistic', 0],
        [20, '3d rendering', '3d-rendering', 0],
        [25, 'Virtual Staging Tips', 'virtual-staging-tips', 0],
        [26, 'Tips For Realtors', 'tips-for-realtors', 0],
        [29, 'Real Estate Tools', 'real-estate-tools', 0],
        [83, 'Virtual Staging', 'virtual-staging', 0],
        [84, 'Architectural Visualization', 'architectural-visualization', 0],
        [85, 'Floor Plan Visualization', 'floor-plan-visualization', 0],
        [86, 'Furniture Renderings', 'furniture-renderings', 0],
    ];

    private $relations = [
        [13191, 11, 0],
        [13193, 83, 0],
        [13194, 9, 0],
        [13195, 9, 0],
        [13196, 9, 0],
        [13198, 9, 0],
        [13259, 9, 0],
        [13269, 9, 0],
        [13272, 9, 0],
        [13318, 17, 0],
        [13318, 20, 0],
        [13329, 17, 0],
        [13329, 18, 0],
        [13336, 25, 0],
        [13336, 26, 0],
        [13345, 20, 0],
        [13345, 29, 0],
        [13354, 25, 0],
        [13354, 29, 0],
        [13361, 20, 0],
        [13361, 29, 0],
        [13367, 20, 0],
        [13371, 20, 0],
        [13376, 18, 0],
        [13376, 29, 0],
        [13382, 26, 0],
        [13400, 17, 0],
        [13405, 26, 0],
        [13423, 25, 0],
        [13444, 17, 0],
        [13451, 29, 0],
        [13458, 25, 0],
        [13464, 29, 0],
        [13469, 26, 0],
        [13475, 29, 0],
        [13482, 26, 0],
        [13489, 26, 0],
        [13495, 26, 0],
        [13502, 26, 0],
        [13508, 26, 0],
        [13512, 17, 0],
        [13518, 25, 0],
        [13544, 25, 0],
        [13550, 26, 0],
        [13562, 18, 0],
        [13569, 25, 0],
        [13576, 25, 0],
        [13586, 25, 0],
        [13596, 25, 0],
        [13620, 25, 0],
        [13632, 25, 0],
        [13649, 29, 0],
        [13653, 26, 0],
        [13673, 26, 0],
        [13687, 25, 0],
        [13704, 17, 0],
        [13715, 18, 0],
        [13726, 17, 0],
        [13861, 9, 0],
        [14335, 17, 0],
        [14393, 9, 0],
        [14394, 9, 0],
        [14395, 9, 0],
        [14425, 17, 0],
        [14449, 17, 0],
        [14457, 17, 0],
        [14486, 17, 0],
        [14495, 17, 0],
        [14508, 17, 0],
        [14643, 83, 0],
        [14646, 83, 0],
        [14650, 83, 0],
        [14653, 83, 0],
        [14657, 83, 0],
        [14659, 83, 0],
        [14665, 85, 0],
        [14667, 85, 0],
        [14669, 85, 0],
        [14671, 84, 0],
        [14673, 84, 0],
        [14675, 84, 0],
        [14677, 86, 0],
        [14679, 86, 0],
        [14681, 86, 0],
        [15041, 17, 0],
        [15056, 17, 0],
        [15063, 20, 0],
        [15072, 20, 0],
        [15078, 26, 0],
        [15084, 20, 0],
        [15090, 20, 0],
        [15094, 20, 0],
        [15100, 20, 0],
        [15199, 25, 0],
        [15209, 25, 0],
        [15231, 25, 0],
        [15254, 25, 0],
        [15277, 25, 0],
        [15277, 26, 0],
        [15278, 25, 0],
        [15278, 26, 0],
        [15279, 17, 0],
        [15279, 26, 0],
        [15303, 1, 0],
        [15325, 1, 0],
        [15348, 1, 0],
        [15374, 1, 0],
        [15379, 1, 0],
        [15389, 1, 0],
        [15397, 1, 0],
        [15402, 1, 0],
        [15415, 1, 0],
        [15429, 1, 0],
        [15434, 1, 0],
        [15438, 1, 0],
        [15442, 1, 0],
        [15448, 1, 0],
        [15456, 1, 0],
        [15460, 1, 0],
        [15465, 1, 0],
        [15471, 1, 0],
        [15476, 1, 0],
        [15483, 1, 0],
        [15494, 1, 0],
        [15501, 1, 0],
        [15508, 1, 0],
        [15512, 1, 0],
        [15519, 1, 0],
        [15523, 1, 0],
        [15527, 1, 0],
        [15549, 29, 0],
        [15564, 29, 0],
        [15577, 26, 0],
    ];

    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        foreach ($this->categories as $category) {
            \App\Term::create([
                'id' => $category[0],
                'name' => $category[1],
                'slug' => $category[2],
                'term_group' => $category[3],
            ]);
        }

        $posts = include(base_path('database/seeds/blog_entries.php'));
        foreach ($this->relations as $relation) {
            if (array_key_exists($relation[0], $posts)) {
                DB::table('blog_entry_term')->insert([
                    'blog_entry_id' => $relation[0],
                    'term_id' => $relation[1],
                    'term_order' => $relation[2]
                ]);
            }
        }
    }
}
